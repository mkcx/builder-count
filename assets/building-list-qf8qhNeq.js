import{_ as U,k as $,u as G,g as P,l as R,r as i,o as u,c as _,a as o,d as t,F as C,b as A,i as F,w as c,t as b,m,e as f,s as H}from"./index-9YNG726_.js";import{e as S,s as j}from"./Export2Excel-cBYIgPRH.js";const J={class:"building-list"},M={class:"buildings"},W=["onClick"],z={class:"building__name fx-1"},K={class:"fs-0"},O={class:"footer"},Q={class:"form-wrap"},X={class:"form__title"},Y={class:"flex ai-c jc-sb plr-60",style:{margin:"16px"}},Z={__name:"building-list",setup(ee){const r=$(),p=G(),l=P(!1),e=R({uniqid:"",name:""}),g=r.state.square.building;function q(){l.value=!0}const x=n=>{j({title:"删除后无法恢复，请确认是否删除？"}).then(()=>{r.commit("square/DELETE_BUILDING",{uniqid:n})}).catch(()=>{})},y=n=>{e.uniqid=n.uniqid,e.name=n.name,l.value=!0};function w(n){p.push({name:"houseList",query:{id:n}})}const L=()=>{p.back()},B=()=>{S({header:{name:"楼栋名称",square:"面积"},data:[{name:"楼栋一",square:"100平方米"}],key:["name","square"],title:"",filename:"项目楼栋",autoWidth:!1})},D=()=>{e.uniqid="",e.name="",l.value=!1};function E(){if(e.name.trim()===""){H("请输入楼栋名称");return}e.uniqid?r.commit("square/UPDATE_BUILDING",e):r.commit("square/ADD_BUILDING",e),e.uniqid="",e.name="",l.value=!1}return(n,s)=>{const v=i("van-nav-bar"),h=i("van-icon"),d=i("van-button"),I=i("van-field"),N=i("van-cell-group"),V=i("van-form"),T=i("van-overlay");return u(),_(C,null,[o("div",J,[t(v,{class:"fs-0",title:"楼栋列表","left-text":"返回","right-text":"导出","left-arrow":"",onClickLeft:L,onClickRight:B}),o("div",M,[(u(!0),_(C,null,A(F(g),a=>(u(),_("div",{class:"building flex ai-c",onClick:k=>w(a.uniqid)},[o("div",z,b(a.name),1),o("div",K,[t(h,{class:"mr-10",name:"edit",onClick:m(k=>y(a),["stop"])},null,8,["onClick"]),t(h,{name:"delete-o",color:"red",onClick:m(k=>x(a.uniqid),["stop"])},null,8,["onClick"])])],8,W))),256))]),o("div",O,[t(d,{class:"btn",type:"primary",icon:"plus",onClick:q},{default:c(()=>[f(" 新增楼栋 ")]),_:1})])]),t(T,{show:l.value,onClick:s[2]||(s[2]=a=>l.value=!1)},{default:c(()=>[o("div",Q,[t(V,{class:"form",onClick:s[1]||(s[1]=m(()=>{},["stop"]))},{default:c(()=>[o("div",X,b(e.uniqid?"编辑":"新增")+"楼栋",1),t(N,{inset:""},{default:c(()=>[t(I,{modelValue:e.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.name=a),label:"楼栋名称",placeholder:"请输入楼栋名称",class:"form__input"},null,8,["modelValue"])]),_:1}),o("div",Y,[t(d,{class:"form__btn",plain:"",type:"primary",onClick:D},{default:c(()=>[f("取消")]),_:1}),t(d,{class:"form__btn",type:"primary",onClick:E},{default:c(()=>[f("确定")]),_:1})])]),_:1})])]),_:1},8,["show"])],64)}}},oe=U(Z,[["__scopeId","data-v-b291d5b5"]]);export{oe as default};
